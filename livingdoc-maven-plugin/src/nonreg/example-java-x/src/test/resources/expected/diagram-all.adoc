:sectlinks:
:sectanchors:
= All classes diagram

[plantuml, target=diagram-all, format=png]
----
@startuml
!pragma layout smetana


title All classes diagram

abstract class "AbstractDomain" [[glossary.html#glossaryid-AbstractDomain{AbstractDomain}]]

abstract class "Access" [[glossary.html#glossaryid-400{400}]] {
  phoneNumber : String [[[glossary.html#glossaryid-401{401}]]]
  price : BigDecimal [[[glossary.html#glossaryid-402{402}]]]
  dateTime : ZonedDateTime [[[glossary.html#glossaryid-403{403}]]]
}

class "Bill" [[glossary.html#glossaryid-100{100}]] #wheat {
  month : YearMonth [[[glossary.html#glossaryid-101{101}]]]
  contract : Contract [[[glossary.html#glossaryid-102{102}]]]
  accesses : Set<Access> [[[glossary.html#glossaryid-103{103}]]]
  customerInformed : boolean [[[glossary.html#glossaryid-Bill_customerInformed{Bill.customerInformed}]]]
}

interface "BillRepository" [[glossary.html#glossaryid-BillRepository{BillRepository}]] {
  add(Bill) : Bill
  clear()
  get(YearMonth) : Optional<Bill>
  retreiveLastBill() : Optional<Bill>
}

class "BillingService" [[glossary.html#glossaryid-BillingService{BillingService}]] {
  repository : BillRepository [[[glossary.html#glossaryid-BillingService_repository{BillingService.repository}]]]
  getBill(String) : Optional<Bill>
}

class "CallAccess" [[glossary.html#glossaryid-500{500}]] {
  duration : Duration [[[glossary.html#glossaryid-501{501}]]]
}

class "Contract" [[glossary.html#glossaryid-200{200}]] {
  id : String [[[glossary.html#glossaryid-201{201}]]]
  customer : Customer [[[glossary.html#glossaryid-202{202}]]]
  effectDate : LocalDate [[[glossary.html#glossaryid-203{203}]]]
}

class "Customer" [[glossary.html#glossaryid-300{300}]] {
  name : String [[[glossary.html#glossaryid-301{301}]]]
  contracts : Set<Contract> [[[glossary.html#glossaryid-Customer_contracts{Customer.contracts}]]]
}

class "ListBillRepository" [[glossary.html#glossaryid-ListBillRepository{ListBillRepository}]] {
  bills : List<Bill> [[[glossary.html#glossaryid-ListBillRepository_bills{ListBillRepository.bills}]]]
  add(Bill) : Bill
  clear()
  get(YearMonth) : Optional<Bill>
  retreiveLastBill() : Optional<Bill>
}

class "SmsAccess" [[glossary.html#glossaryid-600{600}]]

"AbstractDomain" <|-- "Access"
"AbstractDomain" <|-- "Bill"
"AbstractDomain" <|-- "Contract"
"AbstractDomain" <|-- "Customer"
"Access" <|-- "CallAccess"
"Access" <|-- "SmsAccess"
"Bill" --> "*" "Access" : accesses
"Bill" --> "Contract" : contract
"BillRepository" --> "Bill" : use
"BillRepository" <|-- "ListBillRepository"
"BillingService" --> "Bill" : use
"BillingService" --> "BillRepository" : repository
"Contract" "*" <-> "Customer" : customer/contracts
"ListBillRepository" --> "*" "Bill" : bills

@enduml
----
